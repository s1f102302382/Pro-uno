{% load static %}
<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>
    <h1>enter your room name and player name</h1>
    <form id="room-form" method="GET" action="{% url 'room_index' %}">
        <p>
            <label for="room-name-input">your room name</label>
            <input id="room-name-input" type="text" size="100"><br>
        </p>

        <p>
            <label for="player-name-input">your player name</label>
            <input id="player-name-input" name="player_name" type="text" size="100"><br>
        </p>
        <button type="submit">Enter</button>
    </form>
    <script>
        document.querySelector('#room-name-input').focus();
        document.querySelector('#room-name-input').onkeyup = function(e) {
            if (e.keyCode === 13) {  // enter, return
                document.querySelector('submit').submit();
            }
        };


        document.querySelector('#room-form').onsubmit = function(e) {
            e.preventDefault();
            let roomName = document.querySelector('#room-name-input').value;
            let playerName = document.querySelector('#player-name-input').value;
            let url = '/uno/room_index/' + roomName + '/?player_name=' + encodeURIComponent(playerName);
            //window.location.pathname = '/uno/' + 'room_index/' + roomName + '/' + playerName + '/';
            //window.location.pathname = '/uno/' + 'room_index/' + roomName + '/';
            window.location.href = url;
        };
    </script>
</body>
</html>